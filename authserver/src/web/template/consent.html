{{define "title"}}{{ .appName }} - Consent{{end}}
{{define "head"}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            focusOnFirstNonEmptyInput("form-auth")            
        });        
    </script>
{{end}}

{{define "body"}}

<div class="container mx-auto">
    <div class="flex items-center justify-center min-h-screen bg-gray-100">
        <div class="px-8 py-6 mt-4 text-left bg-white shadow-lg m-2 xl:w-2/5">
            <h3 class="text-2xl font-bold text-center">{{ .appName }}</h3>            
            
            <p class="mt-2">The client below is requesting the following permissions. Please take a moment to review them and provide your consent, if they are acceptable.</p>

            <h4 class="mt-2 text-xl font-bold text-center">{{.clientIdentifier}} - {{.clientDescription}}</h4>

            <form id="form-auth" action="" method="post">
                <table class="mt-2 table-auto">                
                <tbody>
                {{range $i, $s := .scopes}}
                    <tr>
                        <td>
                            <input type="checkbox" id="consent{{$i}}" name="consent{{$i}}" checked />
                        </td>
                        <td class="p-2"><label for="consent{{$i}}">{{.Scope}}</label></td>
                        <td class="p-2">{{.Description}}</td>
                    </tr>                
                {{end}}
                </tbody>    
                </table>
                <div class="flex items-baseline justify-between">                    
                    <button class="px-6 py-2 mt-4 text-black bg-gray-400 rounded-lg hover:bg-gray-400" name="btnCancel" value="cancel">Cancel</button>                        
                    <button class="px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900" name="btnSubmit" value="submit">Submit consent</button>                        
                </div>
                {{ .csrfField }}
            </form>

            {{if .error}}
                <div class="mx-auto mt-2 border border-red-500 p-2">                    
                    <p class="text-red-500">{{.error}}</p>
                </div>
            {{end}}
            
        </div>       
    </div>
</div>

{{end}}